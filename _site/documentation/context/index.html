<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>T3 Javascript Framework - API - Context</title>

        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

        <link rel="stylesheet" href="/css/base.css">
        <link rel="stylesheet" href="/css/skeleton.css">
        <link rel="stylesheet" href="/css/layout.css">

        <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>


    <body>

        <header class="header">
    <div class="container">
        <div class="sixteen columns">
            <nav class="header-nav">
                <ul>
    <li class="">
        <a href="/">overview</a>
    </li>
    <li class="current">
        <a href="/documentation">documentation</a>
    </li>
    <li class="">
        <a href="/tutorials">tutorials</a>
    </li>
    <li class="">
        <a href="/download">download</a>
    </li>
    <li class="">
        <a href="/examples">examples</a>
    </li>
</ul>
            </nav>
        </div>
    </div>
</header>
<div class="header-spacer"></div>


        <div class="content container">
            <div class="three columns">
                <div class="nav">
  <aside>
    <h4><a class="" href="/documentation/application/">Application</a></h4>
    

<ul>

    

    <li><a href="/documentation/application/#init">init</a></li>


    

    <li><a href="/documentation/application/#destroy">destroy</a></li>


    

    <li><a href="/documentation/application/#addService">addService</a></li>


    

    <li><a href="/documentation/application/#addModule">addModule</a></li>


    

    <li><a href="/documentation/application/#addBehavior">addBehavior</a></li>


    

    <li><a href="/documentation/application/#getService">getService</a></li>


    

    <li><a href="/documentation/application/#getGlobalConfig">getGlobalConfig</a></li>


    

    <li><a href="/documentation/application/#getModuleConfig">getModuleConfig</a></li>


    

    <li><a href="/documentation/application/#start">start</a></li>


    

    <li><a href="/documentation/application/#startAll">startAll</a></li>


    

    <li><a href="/documentation/application/#stop">stop</a></li>


    

    <li><a href="/documentation/application/#stopAll">stopAll</a></li>


    

    <li><a href="/documentation/application/#isStarted">isStarted</a></li>


    

    <li><a href="/documentation/application/#broadcast">broadcast</a></li>


    

    <li><a href="/documentation/application/#on">on</a></li>


    

    <li><a href="/documentation/application/#off">off</a></li>


    

    <li><a href="/documentation/application/#fire">fire</a></li>


</ul>
    <h4><a class="" href="/documentation/event-target/">Event Target</a></h4>
    

<ul>

    

    <li><a href="/documentation/event-target/#on">on</a></li>


    

    <li><a href="/documentation/event-target/#off">off</a></li>


    

    <li><a href="/documentation/event-target/#fire">fire</a></li>


</ul>
    <h4><a class="current" href="/documentation/context/">Context</a></h4>
    

<ul>

    

    <li><a href="/documentation/context/#getElement">getElement</a></li>


    

    <li><a href="/documentation/context/#getConfig">getConfig</a></li>


    

    <li><a href="/documentation/context/#broadcast">broadcast</a></li>


    

    <li><a href="/documentation/context/#getService">getService</a></li>


    

    <li><a href="/documentation/context/#getGlobalConfig">getGlobalConfig</a></li>


</ul>
    <h4><a class="" href="/documentation/services/">Services</a></h4>
    

<ul>

    

    <li><a href="/documentation/services/#Singleton">Singleton</a></li>


    

    <li><a href="/documentation/services/#Factory">Factory</a></li>


</ul>
    <h4><a class="" href="/documentation/modules/">Modules</a></h4>
    

<ul>

    

    <li><a href="/documentation/modules/#init">init</a></li>


    

    <li><a href="/documentation/modules/#destroy">destroy</a></li>


    

    <li><a href="/documentation/modules/#messages">messages</a></li>


    

    <li><a href="/documentation/modules/#event-handlers">event-handlers</a></li>


</ul>
    <h4><a class="" href="/documentation/behaviors/">Behaviors</a></h4>
    

<ul>

    

    <li><a href="/documentation/behaviors/#init">init</a></li>


    

    <li><a href="/documentation/behaviors/#destroy">destroy</a></li>


    

    <li><a href="/documentation/behaviors/#messages">messages</a></li>


    

    <li><a href="/documentation/behaviors/#event-handlers">event-handlers</a></li>


</ul>
  </aside>
</div>
            </div>
            <div class="documentation twelve columns offset-by-one">
                <h2>Context</h2>

<p>The object type that modules use to interact with the environment.
Used exclusively within Application, but exposed publicly for easy testing.</p>

<div class="anchor" id="getElement"></div>

<h2>getElement</h2>

<h3>Description</h3>

<p>Returns the element that represents the module.</p>

<h3>Returns</h3>

<p>An HTMLElement object.</p>

<h3>Example</h3>

<div class="highlight"><pre><code class="javascript"><span class="nx">Application</span><span class="p">.</span><span class="nx">addModule</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="c1">// outputs HTMLElement with id &#39;mod-test-module&#39;</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">getElement</span><span class="p">());</span>
        <span class="p">}</span>
    <span class="p">};</span>
<span class="p">});</span>
</code></pre></div>

<hr class="separator">

<div class="anchor" id="getConfig"></div>

<h2>getConfig</h2>

<h3>Description</h3>

<p>Retrieves a module&#39;s configuration data from embedded JSON in a &#39;text/x-config&#39; script tag.
This method is a proxy to <a href="../application/#getModuleConfig">Application.getModuleConfig</a> but with a shorter name.</p>

<h3>Usage</h3>

<table class="table table-striped">
    <thead>
        <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="required">element</td>
            <td>HTMLElement</td>
            <td>Module root element.</td>
        </tr>
        <tr>
            <td class="optional">name</td>
            <td>string</td>
            <td>Specific configuration value to retrieve.</td>
        </tr>
    </tbody>
</table>

<h3>Example</h3>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;mod-test-module&quot;</span> <span class="na">class=</span><span class="s">&quot;module&quot;</span> <span class="na">data-module=</span><span class="s">&quot;test-module&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/x-config&quot;</span><span class="nt">&gt;</span><span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="o">:</span> <span class="s2">&quot;bar&quot;</span><span class="p">}</span><span class="nt">&lt;/script&gt;</span>
    ...
<span class="nt">&lt;/div&gt;</span>
</code></pre></div>

<div class="highlight"><pre><code class="javascript"><span class="nx">Application</span><span class="p">.</span><span class="nx">addModule</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="c1">// Outputs &quot;bar&quot;</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">getConfig</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">));</span>
        <span class="p">}</span>
    <span class="p">};</span>
<span class="p">});</span>
</code></pre></div>

<hr class="separator">

<h1>Proxy Methods</h1>

<hr class="separator">

<div class="anchor" id="broadcast"></div>

<h2>broadcast</h2>

<h3>Description</h3>

<p>Broadcasts a message to all registered listeners. A proxy to <a href="../application/#broadcast">Application.broadcast</a></p>

<h3>Usage</h3>

<table class="table table-striped">
    <thead>
        <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="required">name</td>
            <td>string</td>
            <td>Name of the message</td>
        </tr>
        <tr>
            <td class="optional">data</td>
            <td>any</td>
            <td>Custom parameters for the message</td>
        </tr>
    </tbody>
</table>

<h3>Example</h3>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;mod-search-bar&quot;</span> <span class="na">class=</span><span class="s">&quot;module&quot;</span> <span class="na">data-module=</span><span class="s">&quot;search-bar&quot;</span><span class="nt">&gt;</span>
    ...
<span class="nt">&lt;/div&gt;</span>
</code></pre></div>

<div class="highlight"><pre><code class="javascript"><span class="nx">Application</span><span class="p">.</span><span class="nx">addModule</span><span class="p">(</span><span class="s1">&#39;search-bar&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="nx">search</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">context</span><span class="p">.</span><span class="nx">broadcast</span><span class="p">(</span><span class="s1">&#39;searchcomplete&#39;</span><span class="p">,</span> <span class="p">{</span>
                <span class="nx">numResults</span><span class="o">:</span> <span class="mi">100</span>
            <span class="p">});</span>
        <span class="p">}</span>
    <span class="p">};</span>
<span class="p">});</span>
</code></pre></div>

<hr class="separator">

<div class="anchor" id="getService"></div>

<h2>getService</h2>

<h3>Description</h3>

<p>Retrieves an instance of a registered service.
A proxy to <a href="../application/#getService">Application.getService</a></p>

<h3>Usage</h3>

<table class="table table-striped">
    <thead>
        <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="required">service</td>
            <td>string</td>
            <td>Name of service.</td>
        </tr>
    </tbody>
</table>

<p>Returns a T3 Service or null.</p>

<h3>Example</h3>

<div class="highlight"><pre><code class="javascript"><span class="nx">Application</span><span class="p">.</span><span class="nx">addModule</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">dom</span><span class="p">;</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">dom</span> <span class="o">=</span> <span class="nx">context</span><span class="p">.</span><span class="nx">getService</span><span class="p">(</span><span class="s1">&#39;dom&#39;</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">};</span>
<span class="p">});</span>
</code></pre></div>

<hr class="separator">

<div class="anchor" id="getGlobalConfig"></div>

<h2>getGlobalConfig</h2>

<h3>Description</h3>

<p>Retrieves a configuration value that was passed through init.
A proxy to  <a href="../application/#getGlobalConfig">Application.getGlobalConfig</a></p>

<h3>Usage</h3>

<table class="table table-striped">
    <thead>
        <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="required">key</td>
            <td>string</td>
            <td>Config key.</td>
        </tr>
    </tbody>
</table>

<h3>Example</h3>

<div class="highlight"><pre><code class="javascript"><span class="nx">Application</span><span class="p">.</span><span class="nx">init</span><span class="p">({</span>
    <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;bob&#39;</span>
<span class="p">});</span>

<span class="nx">Application</span><span class="p">.</span><span class="nx">addModule</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="c1">// Outputs &quot;bob&quot;</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">getGlobalConfig</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">));</span>
        <span class="p">}</span>
    <span class="p">};</span>
<span class="p">});</span>
</code></pre></div>

            </div>
        </div>

        <footer class="footer">
    <div class="container">
        <div class="sixteen columns">
            <p>&copy; 2014 Box.com, Inc.</p>
        </div>
    </div>
</footer>


    </body>

</html>

